import{g as u,a as f,b as v,c as w}from"./calendar.CiK1c_85.js";import"./hoisted.enYHa_r8.js";function H(e,t){const n=D(e,t),o=A(e,t),a=j(e,t),i=P(e,t),s=q(e,t),r={overall:Math.round(n*.2+o*.25+a*.25+i*.15+s*.15),communication:n,values:o,emotionalStyle:a,conflictHandling:i,growth:s},{summary:d,strengths:h,challenges:g,tips:y}=F(r,e,t);return{scores:r,summary:d,strengths:h,challenges:g,tips:y}}function D(e,t){let n=50;const o=e.day.stem,a=t.day.stem;switch(o.element===a.element&&(n+=20),o.polarity!==a.polarity&&(n+=15),u(o.element,a.element)){case"generating":n+=15;break;case"controlling":n-=10;break;case"clashing":n-=15;break}return Math.max(0,Math.min(100,n))}function A(e,t){let n=50;return f(e.month.branch.index,t.month.branch.index)&&(n+=25),v(e.month.branch.index,t.month.branch.index)&&(n-=20),e.month.stem.element===t.month.stem.element&&(n+=15),f(e.year.branch.index,t.year.branch.index)&&(n+=10),Math.max(0,Math.min(100,n))}function j(e,t){let n=55;return f(e.day.branch.index,t.day.branch.index)&&(n+=25),v(e.day.branch.index,t.day.branch.index)&&(n-=15),e.hour&&t.hour&&(f(e.hour.branch.index,t.hour.branch.index)&&(n+=15),e.hour.stem.element===t.hour.stem.element&&(n+=10)),Math.max(0,Math.min(100,n))}function P(e,t){let n=60;const o=u(e.day.stem.element,t.day.stem.element);return(o==="controlling"||o==="clashing")&&(n-=15),v(e.year.branch.index,t.year.branch.index)&&(n-=10),e.day.stem.polarity===t.day.stem.polarity||(n+=15),Math.max(0,Math.min(100,n))}function q(e,t){let n=55;const o=u(e.day.stem.element,t.day.stem.element),a=u(t.day.stem.element,e.day.stem.element);(o==="generating"||a==="generating")&&(n+=20);const i=new Set([e.day.stem.element,t.day.stem.element,e.month.stem.element,t.month.stem.element]);return n+=(i.size-1)*5,Math.max(0,Math.min(100,n))}function F(e,t,n){const o=[],a=[],i=[];let s;e.overall>=80?s="This pairing shows exceptional natural harmony. Your energies complement each other beautifully, creating a foundation for deep understanding and mutual growth.":e.overall>=65?s="A solid compatibility with good potential. While you may face some differences, your combined energies offer opportunities for a balanced and fulfilling relationship.":e.overall>=50?s="A moderate match with areas requiring conscious effort. Success depends on mutual understanding and willingness to work through differences.":s="This pairing may face significant challenges. However, with awareness and effort, any relationship can grow. Focus on understanding each other's perspectives.",e.communication>=70?o.push("Natural ease in communication and expressing ideas to each other"):e.communication<50&&(a.push("May need extra effort to understand each other's communication styles"),i.push("Practice active listening and ask clarifying questions before reacting")),e.values>=70?o.push("Shared core values provide a strong foundation for the relationship"):e.values<50&&(a.push("Different fundamental values may lead to recurring disagreements"),i.push("Identify shared values early and build your relationship around them")),e.emotionalStyle>=70?o.push("Emotional wavelengths align well, creating natural intimacy"):e.emotionalStyle<50&&(a.push("Different emotional needs and expression styles may cause frustration"),i.push("Learn each other's emotional language and needs")),e.conflictHandling>=70?o.push("Good potential to resolve conflicts constructively"):e.conflictHandling<50&&(a.push("Conflict resolution may be challenging without conscious effort"),i.push("Establish ground rules for disagreements and take breaks when emotions run high")),e.growth>=70?o.push("Strong potential for mutual personal development and inspiration"):e.growth<50&&(a.push("May need to actively seek ways to grow together"),i.push("Set shared goals and support each other's individual development"));const l=t.day.stem.element,r=n.day.stem.element;return l!==r&&i.push(`Appreciate how ${l} and ${r} energies can complement each other`),a.length>0&&i.length>0&&i.push("Remember that awareness of potential challenges is the first step toward building a stronger bond"),{summary:s,strengths:o,challenges:a,tips:i}}const p=document.getElementById("compatibility-form"),b=document.getElementById("form-section"),x=document.getElementById("results-section"),N=document.getElementById("reset-btn"),R={communication:{label:"Communication",icon:"ðŸ’¬",description:"How well you express and understand each other"},values:{label:"Shared Values",icon:"âš–ï¸",description:"Alignment in core beliefs and priorities"},emotionalStyle:{label:"Emotional Style",icon:"ðŸ’•",description:"Compatibility in emotional expression and needs"},conflictHandling:{label:"Conflict Resolution",icon:"ðŸ¤",description:"Ability to work through disagreements"},growth:{label:"Growth Potential",icon:"ðŸŒ±",description:"Capacity to help each other develop"}};function V(e,t){const n=R[e],o=t>=70?"bg-green-500":t>=50?"bg-yellow-500":"bg-red-400";return`
        <div>
          <div class="flex items-center justify-between mb-2">
            <span class="font-medium text-dark-200">${n.icon} ${n.label}</span>
            <span class="text-dark-400">${t}/100</span>
          </div>
          <div class="h-3 bg-dark-800 rounded-full overflow-hidden">
            <div class="h-full ${o} rounded-full transition-all duration-700" style="width: ${t}%"></div>
          </div>
          <p class="text-xs text-dark-500 mt-1">${n.description}</p>
        </div>
      `}function G(e){const t=document.getElementById("score-text"),n=document.getElementById("score-circle");let o=0;const a=1e3,i=performance.now();function s(l){const r=l-i,d=Math.min(r/a,1);o=Math.round(d*e),t.textContent=o.toString();const h=283-283*(d*e)/100;n.style.strokeDashoffset=h.toString(),d<1&&requestAnimationFrame(s)}requestAnimationFrame(s)}p.addEventListener("submit",e=>{e.preventDefault();const t=new FormData(p),n=t.get("name1")||"Person 1",o=t.get("name2")||"Person 2",a=t.get("birthDate1"),i=t.get("birthDate2"),s=t.get("birthTime1"),l=t.get("birthTime2");if(!a||!i)return;const[r,d,h]=a.split("-").map(Number),[g,y,S]=i.split("-").map(Number),E=s?parseInt(s.split(":")[0],10):void 0,I=l?parseInt(l.split(":")[0],10):void 0,M=w(r,d,h,E),k=w(g,y,S,I),m=H(M,k);document.getElementById("result-names").textContent=`${n} & ${o}`,document.getElementById("score-summary").textContent=m.summary;const B=document.getElementById("sub-scores");B.innerHTML=Object.entries(m.scores).filter(([c])=>c!=="overall").map(([c,$])=>V(c,$)).join("");const C=document.getElementById("strengths");C.innerHTML=m.strengths.length>0?m.strengths.map(c=>`<li class="flex items-start gap-2"><span class="text-green-400">â€¢</span>${c}</li>`).join(""):'<li class="text-dark-500">Consider exploring your unique dynamics together</li>';const L=document.getElementById("challenges");L.innerHTML=m.challenges.length>0?m.challenges.map(c=>`<li class="flex items-start gap-2"><span class="text-yellow-400">â€¢</span>${c}</li>`).join(""):'<li class="text-dark-500">No major challenges identified</li>';const T=document.getElementById("tips");T.innerHTML=m.tips.map(c=>`<li class="flex items-start gap-2"><span class="text-primary-400">â†’</span>${c}</li>`).join(""),b.classList.add("hidden"),x.classList.remove("hidden"),x.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{G(m.scores.overall)},300)});N.addEventListener("click",()=>{x.classList.add("hidden"),b.classList.remove("hidden"),p.reset(),b.scrollIntoView({behavior:"smooth"})});
